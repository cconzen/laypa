name: laypa
channels:
  # - default
  - pytorch
  - nvidia
  - conda-forge
dependencies:
  - python=3
  - numpy<1.24 # For int problem with detectron2 (https://github.com/facebookresearch/detectron2/pull/4975)
  - llvm-openmp<16 # For CPU affinity pytorch issues (https://github.com/pytorch/pytorch/issues/102269)
  - pytorch
  - torchvision
  - pytorch-cuda=11.7
  - cudatoolkit=11.7
  - cudatoolkit-dev
  - matplotlib
  - scipy
  - scikit-learn
  - pip
  - opencv
  - tensorboard
  - flask
  - prometheus_client
  - imagesize
  - timm
  - gunicorn
  - pip:
    - natsort
    - distinctipy
    - torch-tb-profiler
    - 'git+https://github.com/facebookresearch/detectron2.git'
    - 'git+https://github.com/cocodataset/panopticapi.git'
    - ./models/pixel_decoder/ops/